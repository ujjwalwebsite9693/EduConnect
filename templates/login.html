{% extends "base.html" %}

{# no special body class #}
{% block body_class %}{% endblock %}

{# make main container full height so we can center the card #}
{% block main_container_class %}d-flex justify-content-center align-items-center{% endblock %}

{% block nav_links %}
    {# No tabs on login page #}
{% endblock %}

{% block content %}
<div class="login-card" style="max-width: 380px; width: 100%;">

    <div class="text-center mb-3">
        <div class="mb-2">
            <i class="bi bi-mortarboard-fill" style="font-size: 2.4rem; color: #3b82f6;"></i>
        </div>
        <h3 class="fw-bold mb-1">Welcome to EduConnect</h3>
        <p class="text-muted mb-2" style="font-size: 0.9rem;">
            Sign in with your assigned credentials
        </p>
    </div>

    <form method="POST" action="{{ url_for('login') }}">

        <!-- Role -->
        <label class="small fw-bold mb-1">Role</label>
        <select class="form-select login-input mb-3" name="role" required>
            <option value="">Select Role</option>
            <option value="teacher">Teacher</option>
            <option value="student">Student</option>
        </select>

        <!-- Username -->
        <label class="small fw-bold mb-1">User ID</label>
        <input type="text"
               name="username"
               class="form-control login-input mb-3"
               placeholder="e.g. admin or student01"
               required>

        <!-- Password -->
        <label class="small fw-bold mb-1">Password</label>
        <input type="password"
               name="password"
               class="form-control login-input mb-4"
               placeholder="Enter your password"
               required>

        <!-- Submit -->
        <button class="btn login-btn w-100 mb-2">
            Login
        </button>

        <div class="small text-muted mt-2">
            • <b>First Select Your Role<br>
            • <b>Enter Your User Id</b><br>
            • <b>Enter Your Password</b><br>
            • <b>Enter Details Correctly(Case Sensetive)</b>
        </div>

        <!-- Flash messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="mt-3">
            {% for category, message in messages %}
            <div class="alert alert-{{ category }} py-2 mb-2">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

    </form>
</div>
{% endblock %}
